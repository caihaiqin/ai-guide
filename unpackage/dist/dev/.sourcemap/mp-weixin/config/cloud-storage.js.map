{"version":3,"file":"cloud-storage.js","sources":["config/cloud-storage.js"],"sourcesContent":["/**\n * 云存储配置\n * 包含CDN基础地址和视频、音乐资源路径\n */\n\nconst cloudStorage = {\n    // CDN基础地址\n    baseUrl: 'https://mp-51f2d98b-a71a-4395-aaef-36c69c9fa62b.cdn.bspapp.com',\n\n    // 开场视频\n    openingVideo: '/video/opening-video.mp4',\n\n    // 背景视频列表\n    backgroundVideos: [\n        '/video/backgroud-video/backgroud-video-1.mp4',\n        '/video/backgroud-video/backgroud-video-2.mp4',\n        '/video/backgroud-video/backgroud-video-3.mp4',\n    ],\n\n    // 背景音乐列表\n    backgroundMusic: [\n        '/music/backgroud-music/backgroud-music-1.mp4',\n        '/music/backgroud-music/backgroud-music-2.mp4',\n        '/music/backgroud-music/backgroud-music-3.mp4',\n    ],\n\n    // 星座视频路径模板（可以根据星座名称生成对应的视频URL）\n    zodiacVideoTemplate: '/video/zodiac/{zodiacName}.mp4',\n\n    /**\n     * 获取完整URL\n     * @param {String} path 资源路径\n     * @param {Boolean} noCache 是否添加防缓存参数\n     * @returns {String} 完整URL\n     */\n    getFullUrl(path, noCache = false) {\n        if (!path) return '';\n        // 如果已经是完整URL则直接返回\n        if (path.startsWith('http://') || path.startsWith('https://')) {\n            return noCache ? this.addNoCacheParam(path) : path;\n        }\n        // 否则拼接基础地址\n        const fullUrl = this.baseUrl + path;\n        return noCache ? this.addNoCacheParam(fullUrl) : fullUrl;\n    },\n\n    /**\n     * 添加防缓存参数\n     * @param {String} url URL\n     * @returns {String} 添加防缓存参数后的URL\n     */\n    addNoCacheParam(url) {\n        if (!url) return '';\n        const separator = url.includes('?') ? '&' : '?';\n        return `${url}${separator}t=${Date.now()}`;\n    },\n\n    /**\n     * 获取随机背景视频URL\n     * @param {Boolean} noCache 是否添加防缓存参数\n     * @returns {String} 随机背景视频URL\n     */\n    getRandomBackgroundVideo(noCache = false) {\n        const index = Math.floor(Math.random() * this.backgroundVideos.length);\n        return this.getFullUrl(this.backgroundVideos[index], noCache);\n    },\n\n    /**\n     * 获取随机背景音乐URL\n     * @param {Boolean} noCache 是否添加防缓存参数\n     * @returns {String} 随机背景音乐URL\n     */\n    getRandomBackgroundMusic(noCache = false) {\n        const index = Math.floor(Math.random() * this.backgroundMusic.length);\n        return this.getFullUrl(this.backgroundMusic[index], noCache);\n    },\n\n    /**\n     * 获取星座视频URL\n     * @param {String} zodiacName 星座英文名称\n     * @param {Boolean} noCache 是否添加防缓存参数\n     * @returns {String} 星座视频URL\n     */\n    getZodiacVideoUrl(zodiacName, noCache = false) {\n        if (!zodiacName) return '';\n        const path = this.zodiacVideoTemplate.replace('{zodiacName}', zodiacName.toLowerCase());\n        return this.getFullUrl(path, noCache);\n    },\n\n    /**\n     * 获取开场视频URL\n     * @param {Boolean} noCache 是否添加防缓存参数\n     * @returns {String} 开场视频URL\n     */\n    getOpeningVideoUrl(noCache = false) {\n        return this.getFullUrl(this.openingVideo, noCache);\n    }\n};\n\nexport default cloudStorage;"],"names":[],"mappings":";AAKK,MAAC,eAAe;AAAA;AAAA,EAEjB,SAAS;AAAA;AAAA,EAGT,cAAc;AAAA;AAAA,EAGd,kBAAkB;AAAA,IACd;AAAA,IACA;AAAA,IACA;AAAA,EACH;AAAA;AAAA,EAGD,iBAAiB;AAAA,IACb;AAAA,IACA;AAAA,IACA;AAAA,EACH;AAAA;AAAA,EAGD,qBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQrB,WAAW,MAAM,UAAU,OAAO;AAC9B,QAAI,CAAC;AAAM,aAAO;AAElB,QAAI,KAAK,WAAW,SAAS,KAAK,KAAK,WAAW,UAAU,GAAG;AAC3D,aAAO,UAAU,KAAK,gBAAgB,IAAI,IAAI;AAAA,IACjD;AAED,UAAM,UAAU,KAAK,UAAU;AAC/B,WAAO,UAAU,KAAK,gBAAgB,OAAO,IAAI;AAAA,EACpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,gBAAgB,KAAK;AACjB,QAAI,CAAC;AAAK,aAAO;AACjB,UAAM,YAAY,IAAI,SAAS,GAAG,IAAI,MAAM;AAC5C,WAAO,GAAG,GAAG,GAAG,SAAS,KAAK,KAAK,IAAK,CAAA;AAAA,EAC3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,yBAAyB,UAAU,OAAO;AACtC,UAAM,QAAQ,KAAK,MAAM,KAAK,OAAM,IAAK,KAAK,iBAAiB,MAAM;AACrE,WAAO,KAAK,WAAW,KAAK,iBAAiB,KAAK,GAAG,OAAO;AAAA,EAC/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,yBAAyB,UAAU,OAAO;AACtC,UAAM,QAAQ,KAAK,MAAM,KAAK,OAAM,IAAK,KAAK,gBAAgB,MAAM;AACpE,WAAO,KAAK,WAAW,KAAK,gBAAgB,KAAK,GAAG,OAAO;AAAA,EAC9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQD,kBAAkB,YAAY,UAAU,OAAO;AAC3C,QAAI,CAAC;AAAY,aAAO;AACxB,UAAM,OAAO,KAAK,oBAAoB,QAAQ,gBAAgB,WAAW,YAAW,CAAE;AACtF,WAAO,KAAK,WAAW,MAAM,OAAO;AAAA,EACvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,mBAAmB,UAAU,OAAO;AAChC,WAAO,KAAK,WAAW,KAAK,cAAc,OAAO;AAAA,EACpD;AACL;;"}