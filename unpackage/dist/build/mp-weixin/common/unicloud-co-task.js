"use strict";const s=require("./vendor.js");class t{constructor({success:s,fail:t,complete:c}={}){this.status=0,this.callback={success:s,fail:t,complete:c}}invoke(s,...t){if(0!==this.status)return;const c=this.callback[s];c&&c(...t)}abort(){this.status=1}}exports.main=function({coName:c,funName:e,param:a,success:i,fail:r,complete:o,config:n}={}){if(!Array.isArray(a))throw new Error("param的值必须为数组");const l=new t({success:i,fail:r,complete:o});return s.nr.importObject(c,n||{})[e](...a).then((s=>{l.invoke("success",s)})).catch((s=>{l.invoke("fail",s)})).finally((s=>{l.invoke("complete",s)})),l};
